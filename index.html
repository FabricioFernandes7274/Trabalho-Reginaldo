<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameStore ‚Äî Loja</title>
    <link rel="stylesheet" href="cadastro.css">
    <link rel="stylesheet" href="index.css">
    <style>
        /* pequenos ajustes locais para o index */
        .store-grid .thumb { background: linear-gradient(135deg,#222,#111); }
    </style>
</head>
<body onload="initPage()">
    <a class="skip-link" href="#main-content">Ir para o conte√∫do</a>
    <header class="menu" role="banner">
            <div class="logo" style="justify-content:flex-start; gap:1rem;">
            <div class="logo-icon">üéÆ</div>
            <h1 class="nome-logo" data-i18n="brand">GameStore</h1>
        </div>

        <button id="hamburgerBtn" class="btn" aria-label="Abrir menu" aria-expanded="false" aria-controls="sidebar" onclick="document.body.classList.toggle('sidebar-open')">‚ò∞</button>

        <div class="store-topbar">
            <div class="search-bar">
                <input id="topSearch" type="search" placeholder="Pesquisar jogos, desenvolvedores..." aria-label="Pesquisar jogos">
            </div>

            <nav class="nav-links">
                <a href="#" data-i18n="nav.store">Loja</a>
                <a href="#" data-i18n="nav.new">Novidades</a>
                <a href="#" data-i18n="nav.indie">Indie</a>
                <a href="#" data-i18n="nav.deals">Ofertas</a>
            </nav>

            <div style="display:flex;align-items:center;gap:0.6rem;">
                <div class="auth-buttons">
                    <a href="#" class="btn btn-login" onclick="showLogin(event)">Entrar</a>
                    <a href="#" class="btn btn-register" onclick="showRegister(event)">Criar Conta</a>
                </div>
                <div class="mini-cart-wrapper" style="position:relative;">
                    <button class="btn cart-btn" onclick="openCart()" aria-label="Abrir carrinho">
                        <span class="cart-icon">
                            <svg viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                                <path d="M7 4h-2l-1 2h2l3.6 7.59-1.35 2.45C8.89 16.37 9.3 17 10 17h7v-2h-6.42c-.14 0-.25-.11-.25-.25l.03-.12L16.1 9H20V7h-4.21l-1.45-3H7z" fill="currentColor"/>
                                <circle cx="10" cy="20" r="1" fill="currentColor"/>
                                <circle cx="18" cy="20" r="1" fill="currentColor"/>
                            </svg>
                        </span>
                        <span class="cart-text" data-i18n="cart">Carrinho</span>
                        <span class="cart-badge">0</span>
                    </button>
                    <div id="miniCart" class="mini-cart" aria-hidden="true" style="display:none; position:absolute; right:0; top:40px; background:rgba(10,10,10,0.95); padding:0.6rem; border-radius:8px; width:280px; box-shadow:0 8px 30px rgba(0,0,0,0.6); z-index:2200;"></div>
                </div>
                <button class="btn" onclick="openFeedback()" title="Enviar feedback" aria-label="Enviar feedback">Feedback</button>
                <button class="btn" onclick="resetDemo()" title="Reset demo (limpa dados)" aria-label="Reset demo">Reset demo</button>
                <select id="langSelect" aria-label="Selecionar idioma" style="margin-left:0.6rem; background:transparent; border:1px solid rgba(255,255,255,0.06); color:inherit; padding:0.25rem 0.5rem; border-radius:6px;">
                    <option value="pt-BR">PT-BR</option>
                    <option value="en">EN</option>
                </select>
            </div>
        </div>
    </header>

    <main class="store-wrap">
        <aside id="sidebar" class="sidebar" role="navigation" aria-label="Categorias">
            <h3>Categorias</h3>
            <ul>
                <li><a href="categories.html?cat=luta">Luta</a></li>
                <li><a href="categories.html?cat=gestao">Gest√£o de Recursos</a></li>
                <li><a href="categories.html?cat=aventura">Aventura</a></li>
                <li><a href="categories.html?cat=esporte">Esporte</a></li>
                <li><a href="categories.html?cat=visual-novel">Visual Novel</a></li>
                <li><a href="categories.html?cat=terror">Terror / Suspense</a></li>
                <li><a href="categories.html?cat=plataforma">Plataforma</a></li>
                <li><a href="categories.html?cat=drama">Drama</a></li>
                <li><a href="categories.html?cat=infantil">Infantil</a></li>
                <li><a href="categories.html?cat=carros">Carros</a></li>
                <li><a href="categories.html?cat=estrategia">Estrat√©gia / Turnos</a></li>
                <li><a href="categories.html?cat=mundo-aberto">Mundo Aberto</a></li>
                <li><a href="categories.html?cat=indies">Jogos Indies</a></li>
            </ul>
        </aside>

    <section id="main-content" class="main-content" role="main">
            <section class="hero">
                <div class="hero-info">
                    <h2>Destaques</h2>
                    <p>Ofertas da semana e novidades selecionadas.</p>
                </div>
            </section>

            <section class="store-grid">
                <article class="game-card">
                    <div class="thumb">
                        <img src="https://via.placeholder.com/640x360?text=Cyber+Runner" loading="lazy" alt="Cyber Runner">
                    </div>
                    <h4>Cyber Runner</h4>
                    <p class="price">R$ 39,90</p>
                    <div class="card-actions">
                            <button class="btn btn-primary" onclick="addToCart('Cyber Runner',39.90)">Comprar</button>
                            <button class="btn" onclick="showDetails('Cyber Runner',39.90,'https://via.placeholder.com/640x360?text=Cyber+Runner','Um jogo de corrida cyberpunk.')" aria-label="Detalhes do Cyber Runner">Detalhes</button>
                    </div>
                </article>

                <article class="game-card">
                    <div class="thumb">
                        <img src="https://via.placeholder.com/640x360?text=Dungeon+Quest" loading="lazy" alt="Dungeon Quest">
                    </div>
                    <h4>Dungeon Quest</h4>
                    <p class="price">R$ 59,90</p>
                    <div class="card-actions">
                            <button class="btn btn-primary" onclick="addToCart('Dungeon Quest',59.90)">Comprar</button>
                            <button class="btn" onclick="showDetails('Dungeon Quest',59.90,'https://via.placeholder.com/640x360?text=Dungeon+Quest','Aventure-se por dungeons geradas.')" aria-label="Detalhes do Dungeon Quest">Detalhes</button>
                    </div>
                </article>

                <article class="game-card">
                    <div class="thumb">
                        <img src="https://via.placeholder.com/640x360?text=Indie+Puzzle" loading="lazy" alt="Indie Puzzle">
                    </div>
                    <h4>Indie Puzzle</h4>
                    <p class="price">Gr√°tis</p>
                    <div class="card-actions">
                            <button class="btn btn-primary" onclick="addToCart('Indie Puzzle',0)">Instalar</button>
                            <button class="btn" onclick="showDetails('Indie Puzzle',0,'https://via.placeholder.com/640x360?text=Indie+Puzzle','Puzzle relaxante e criativo.')" aria-label="Detalhes do Indie Puzzle">Detalhes</button>
                    </div>
                </article>

                <article class="game-card">
                    <div class="thumb">
                        <img src="https://via.placeholder.com/640x360?text=Racer+X" loading="lazy" alt="Racer X">
                    </div>
                    <h4>Racer X</h4>
                    <p class="price">R$ 19,90</p>
                    <div class="card-actions">
                            <button class="btn btn-primary" onclick="addToCart('Racer X',19.90)">Comprar</button>
                            <button class="btn" onclick="showDetails('Racer X',19.90,'https://via.placeholder.com/640x360?text=Racer+X','Corridas intensas em pistas futuristas.')" aria-label="Detalhes do Racer X">Detalhes</button>
                    </div>
                </article>
            </section>
        </section>
    </main>

    <!-- Modais: login, register, profile, cart (reutilizam handlers em funcao.js) -->
    <div id="loginPage" class="page" style="display:none;">
        <div class="form-container">
            <div class="form-header">
                <button class="back-btn" onclick="showMainMenu()">Voltar</button>
                <h2 id="loginTitle">Fazer Login</h2>
            </div>
            <form class="auth-form">
                <div class="input-group"><label for="loginEmail">Email ou Usu√°rio</label><input id="loginEmail" type="text" required></div>
                <div class="input-group"><label for="loginPassword">Senha</label><input id="loginPassword" type="password" required></div>
                <button class="btn btn-primary" type="submit">Entrar</button>
                <p class="form-link">N√£o tem conta? <a href="#" onclick="showRegister(event)">Criar conta</a></p>
            </form>
        </div>
    </div>

    <div id="registerPage" class="page" style="display:none;">
        <div class="form-container">
            <div class="form-header">
                <button class="back-btn" onclick="showMainMenu()">‚Üê Voltar</button>
                <h2 id="registerTitle">Criar Conta</h2>
            </div>
            <form class="auth-form">
                <div class="input-group"><label for="registerName">Nome Completo</label><input id="registerName" type="text" required></div>
                <div class="input-group"><label for="registerEmail">Email</label><input id="registerEmail" type="email" required></div>
                <div class="input-group"><label for="registerPassword">Senha</label><input id="registerPassword" type="password" required></div>
                <div class="input-group"><label for="confirmPassword">Confirmar Senha</label><input id="confirmPassword" type="password" required></div>
                <button class="btn btn-primary" type="submit">Criar Conta</button>
                <p class="form-link">J√° tem conta? <a href="#" onclick="showLogin(event)">Fazer login</a></p>
            </form>
        </div>
    </div>

    <div id="profilePage" class="page" style="display:none;">
        <div class="form-container">
            <div class="form-header"><button class="back-btn" onclick="cancelProfile()">‚Üê Voltar</button><h2 id="profileTitle">Meu Perfil</h2></div>
            <form class="auth-form" onsubmit="saveProfile(event)">
                <div class="input-group"><label for="profileName">Nome</label><input id="profileName" type="text" required></div>
                <div class="input-group"><label for="profileEmail">Email</label><input id="profileEmail" type="email" required></div>
                <hr style="border:none;height:1px;background:rgba(255,255,255,0.04);margin:0.6rem 0;">
                <div class="input-group"><label for="profileCurrentPassword">Senha Atual</label><input id="profileCurrentPassword" type="password"></div>
                <div class="input-group"><label for="profileNewPassword">Nova Senha</label><input id="profileNewPassword" type="password"></div>
                <div class="input-group"><label for="profileConfirmNew">Confirmar Nova Senha</label><input id="profileConfirmNew" type="password"></div>
                <button class="btn btn-primary" type="submit">Salvar Altera√ß√µes</button>
            </form>
        </div>
    </div>

    <div id="cartPage" class="page" style="display:none;">
        <div class="form-container">
            <div class="form-header"><button class="back-btn" onclick="(function(){document.getElementById('cartPage').style.display='none'; showMainMenu();})()">‚Üê Voltar</button><h2>Meu Carrinho</h2></div>
            <div id="cartList" style="max-height:320px;overflow:auto;margin-top:0.6rem"></div>
            <div style="display:flex;justify-content:space-between;align-items:center;margin-top:1rem;"><strong>Total</strong><div id="cartTotal">R$ 0.00</div></div>
            <div style="display:flex;gap:0.6rem;justify-content:flex-end;margin-top:1rem;"><button class="btn" onclick="clearCart()">Limpar</button><button class="btn btn-primary" onclick="checkout()">Finalizar Compra</button></div>
        </div>
    </div>

    <div id="feedbackPage" class="page" style="display:none;">
        <div class="form-container">
            <div class="form-header"><button class="back-btn" onclick="(function(){document.getElementById('feedbackPage').style.display='none'; showMainMenu();})()">‚Üê Voltar</button><h2 id="feedbackTitle">Feedback</h2></div>
            <form id="feedbackForm">
                <div class="input-group"><label for="fbName">Nome (opcional)</label><input id="fbName" type="text"></div>
                <div class="input-group"><label for="fbEmail">Email (opcional)</label><input id="fbEmail" type="email"></div>
                <div class="input-group"><label for="fbMessage">Mensagem</label><textarea id="fbMessage" rows="5" required></textarea></div>
                <div style="display:flex; gap:0.6rem; justify-content:flex-end;"><button class="btn" type="button" onclick="document.getElementById('feedbackPage').style.display='none'; showMainMenu();">Cancelar</button><button class="btn btn-primary" type="submit">Enviar</button></div>
            </form>
        </div>
    </div>

    <script src="funcao.js"></script>
</body>
</html>
